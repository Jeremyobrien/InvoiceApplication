<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>ExpenseDialog.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "ExpenseDialog.h"
#include &lt;QFormLayout&gt;
#include &lt;QDialogButtonBox&gt;
#include &lt;QValidator&gt;

ExpenseDialog::ExpenseDialog(QWidget *parent)
<span style = "background-color:#dfd">    : QDialog(parent)
{
    setWindowTitle("Add Expense");</span>

<span style = "background-color:#dfd">    expenseInput = new QLineEdit(this);
    amountInput = new QLineEdit(this);</span>

<span style = "background-color:#dfd">    auto *costValidator = new QDoubleValidator(0.0, 1'000'000'000.0, 2, this);
    costValidator-&gt;setNotation(QDoubleValidator::StandardNotation);
    amountInput-&gt;setValidator(costValidator);</span>

<span style = "background-color:#dfd">    QFormLayout *layout = new QFormLayout(this);
    layout-&gt;addRow("Expense Description:", expenseInput);
    layout-&gt;addRow("Amount ($):", amountInput);</span>

<span style = "background-color:#dfd">    QDialogButtonBox *buttons =</span>
        new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);

<span style = "background-color:#dfd">    connect(buttons, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept);
    connect(buttons, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject);</span>

<span style = "background-color:#dfd">    layout-&gt;addWidget(buttons);
}</span>

ExpenseDialog::ExpenseDialog(QWidget* parent, const Expense&amp; expense)
<span style = "background-color:#dfd">    : QDialog(parent)
{
    setWindowTitle("Edit Expense");</span>

<span style = "background-color:#dfd">    expenseInput = new QLineEdit(this);
    amountInput = new QLineEdit(this);</span>

<span style = "background-color:#dfd">    expenseInput-&gt;setText(QString::fromStdString(expense.getDescription()));
    amountInput-&gt;setText(QString::number(expense.getCost()));</span>

<span style = "background-color:#dfd">    auto *costValidator =</span>
        new QDoubleValidator(0.0, 1'000'000'000.0, 2, this);
<span style = "background-color:#dfd">    amountInput-&gt;setValidator(costValidator);</span>

<span style = "background-color:#dfd">    QFormLayout *layout = new QFormLayout(this);
    layout-&gt;addRow("Expense Description:", expenseInput);
    layout-&gt;addRow("Amount ($):", amountInput);</span>

<span style = "background-color:#dfd">    QDialogButtonBox *buttons =</span>
        new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);

<span style = "background-color:#dfd">    connect(buttons, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept);
    connect(buttons, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject);</span>

<span style = "background-color:#dfd">    layout-&gt;addWidget(buttons);
}</span>

QString ExpenseDialog::description() const
<span style = "background-color:#dfd">{
    return expenseInput-&gt;text();
}</span>

double ExpenseDialog::amount() const
<span style = "background-color:#dfd">{</span>

<span style = "background-color:#dfd">    return amountInput-&gt;text().toDouble();
}</span>

Expense ExpenseDialog::getExpense() const
<span style = "background-color:#dfd">{
    return Expense(</span>
        expenseInput-&gt;text().toStdString(),
        amountInput-&gt;text().toDouble());
<span style = "background-color:#dfd">}</span>

Expense ExpenseDialog::getResult() const
<span style = "background-color:#fdd">{
    return getExpense();
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>