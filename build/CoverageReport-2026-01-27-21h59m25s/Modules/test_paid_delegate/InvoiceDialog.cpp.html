<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>InvoiceDialog.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "InvoiceDialog.h"
#include &lt;QFormLayout&gt;
#include &lt;QDialogButtonBox&gt;
#include &lt;QValidator&gt;

InvoiceDialog::InvoiceDialog(QWidget *parent)
<span style = "background-color:#dfd">    : QDialog(parent)
{
    setWindowTitle("Add Invoice");</span>

<span style = "background-color:#dfd">    clientInput = new QLineEdit(this);
    amountInput = new QLineEdit(this);
    paidCheck = new QCheckBox("Paid", this);</span>

<span style = "background-color:#dfd">    auto *costValidator = new QDoubleValidator(0.0, 1'000'000'000.0, 2, this);
    costValidator-&gt;setNotation(QDoubleValidator::StandardNotation);
    amountInput-&gt;setValidator(costValidator);</span>

<span style = "background-color:#dfd">    QFormLayout *layout = new QFormLayout(this);
    layout-&gt;addRow("Client Name:", clientInput);
    layout-&gt;addRow("Amount ($):", amountInput);
    layout-&gt;addRow("", paidCheck);</span>

<span style = "background-color:#dfd">    QDialogButtonBox *buttons =</span>
        new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);

<span style = "background-color:#dfd">    connect(buttons, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept);
    connect(buttons, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject);</span>

<span style = "background-color:#dfd">    layout-&gt;addWidget(buttons);
}</span>

InvoiceDialog::InvoiceDialog(QWidget* parent, const Invoice&amp; invoice)
<span style = "background-color:#dfd">    : QDialog(parent)
{
    setWindowTitle("Edit Invoice");</span>

<span style = "background-color:#dfd">    clientInput = new QLineEdit(this);
    amountInput = new QLineEdit(this);
    paidCheck = new QCheckBox("Paid", this);</span>

<span style = "background-color:#dfd">    clientInput-&gt;setText(QString::fromStdString(invoice.getClient()));
    amountInput-&gt;setText(QString::number(invoice.getAmount()));
    paidCheck-&gt;setChecked(invoice.isPaid());</span>

<span style = "background-color:#dfd">    auto *costValidator =</span>
        new QDoubleValidator(0.0, 1'000'000'000.0, 2, this);
<span style = "background-color:#dfd">    amountInput-&gt;setValidator(costValidator);</span>

<span style = "background-color:#dfd">    QFormLayout *layout = new QFormLayout(this);
    layout-&gt;addRow("Client Name:", clientInput);
    layout-&gt;addRow("Amount ($):", amountInput);
    layout-&gt;addRow("", paidCheck);</span>

<span style = "background-color:#dfd">    QDialogButtonBox *buttons =</span>
        new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);

<span style = "background-color:#dfd">    connect(buttons, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept);
    connect(buttons, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject);</span>

<span style = "background-color:#dfd">    layout-&gt;addWidget(buttons);
}</span>

Invoice InvoiceDialog::getInvoice() const
<span style = "background-color:#dfd">{
    return Invoice(</span>
        clientInput-&gt;text().toStdString(),
        amountInput-&gt;text().toDouble(),
        paidCheck-&gt;isChecked());
<span style = "background-color:#dfd">}</span>

QString InvoiceDialog::client() const
<span style = "background-color:#dfd">{
    return clientInput-&gt;text();
}</span>

double InvoiceDialog::amount() const
<span style = "background-color:#dfd">{
    return amountInput-&gt;text().toDouble();
}</span>

bool InvoiceDialog::isPaid() const
<span style = "background-color:#dfd">{
    return paidCheck-&gt;isChecked();
}</span>

Invoice InvoiceDialog::getResult() const
<span style = "background-color:#fdd">{
    return getInvoice();
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>